{% extends "CHRISTMAS/default.html" %}

{% block subHeader %}
<div class="relative max-w-screen-2xl mx-auto px-4 py-4 grid grid-cols-12 rounded-t">
	<div class="absolute top-0 left-0 w-full h-full bg-gradient-to-t from-gray-300 to-gray-200 dark:bg-none dark:bg-gray-800 rounded-t sub-header-shadow dark:border-b dark:border-gray-700 sub-header"></div>
	<div class="relative col-span-full flex items-center">
		<div>
			<h1 class="font-bold text-xl font-heading leading-normal mb-0">
				Grassed Users
			</h1>
			<ul class="flex space-x-2 text-xs text-gray-500 dark:text-gray-400 leading-normal mb-0">
				{% if v and v.admin_level > 2 %}
				<li>
					<a href="/admin" class="text-gray-500 hover:underline">Admin Dashboard</a>
				</li>
				<li>
					<i class="fas fa-arrow-alt-right text-shadow fa-fw fa-sm"></i>
				</li>
				{% endif %}
				<li>
					<a href="#" class="text-gray-700 dark:text-gray-500 hover:underline">Grassed Users</a>
				</li>
			</ul>
		</div>
	</div>
</div>
{% endblock %}

{% block content %}
<div class="col-span-full my-2 px-2.5 md:px-0">
	{% if users %}
	<table class="table table-striped mb-5">
	<thead class="bg-primary text-white">
		<tr>
			<th scope="col" class="p-2.5">#</th>
			<th scope="col" class="p-2.5">Username</th>
			<th scope="col" class="p-2.5">Grasser</th>
		</tr>
	</thead>
	<tbody>
		{% for user in users %}
			<tr class="odd:bg-gray-300 dark:odd:bg-white/[.05] hover:bg-gray-400 dark:hover:bg-white/10 hover:cursor-pointer">
				<td class="px-2.5 font-bold">{{loop.index}}</td>
				<td class="px-2.5">
					<a style="color:#{{user.namecolor}}; font-weight:bold;" href="/@{{user.username}}">
						<img loading="lazy" src="/uid/{{user.id}}/pic" class="pp20">
						<span {% if user.patron %}class="patron" style="background-color:#{{user.namecolor}};"{% endif %}>{{user.username}}</span>
					</a>
				</td>
				<td class="px-2.5 font-bold">{{user.ban_reason.split('by ')[1]}}</td>
			</tr>
		{% endfor %}
	</tbody>
	</table>
	{% else %}
	<div class="flex flex-col items-center justify-center py-24 md:py-48">
		<img loading="lazy" src="https://c.tenor.com/NhDy-AkelhQAAAAM/marsey-drama.gif" class="w-20 h-20 mb-4 rounded-md object-cover">
		<h2 class="text-xl font-bold leading-normal font-heading">No grassed users</h2>
		<p class="text-gray-500 text-sm">
			When users have an active grass award, it will show up here.
		</p>
		{% if v and v.admin_level > 2 %}
		<a href="/admin" class="mt-3 btn btn-gray">
			Go to admin dashboard
		</a>
		{% else %}
		<a href="/" class="mt-3 btn btn-gray">
			Go to homepage
		</a>
		{% endif %}
	</div>
	{% endif %}
</div>
{% endblock %}
